<div class="filter">
  <button
    (click)="toggleFilterVisibility()"
    class="filter__toggle-button"
    tuiButton
    appearance="flat"
    size="s"
  >
    <tui-svg [src]="buttonIcon"></tui-svg>
    {{ buttonText }}
  </button>

  <div
    class="filter__entities-wrapper"
    [class.filter__entities-wrapper--hidden]="!isOpen"
  >
    <ng-container *ngFor="let option of searchFilterItemOptions">
      <span
        class="filter__entity"
        search-filter-item
        *ngIf="option.hasItems"
        [searchFilterItemOptions]="option"
        [initialStateById]="
          option.name === CATEGORY_ITEM ? initialCategoryId : undefined
        "
        (valueChanges)="filterValueChanges($event)"
      ></span>
    </ng-container>
  </div>
</div>
